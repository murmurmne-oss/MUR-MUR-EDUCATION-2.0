# üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìã –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API_KEY —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

```bash
# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ backend
docker exec -it $(docker ps -q -f name=backend) env | grep API_KEY

# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ admin
docker exec -it $(docker ps -q -f name=admin) env | grep API_KEY
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ `API_KEY=...` —Å –¥–ª–∏–Ω–Ω—ã–º —Å–ª—É—á–∞–π–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º.

**‚ùå –ï—Å–ª–∏ –Ω–µ –≤–∏–¥–Ω–æ:** –î–æ–±–∞–≤—å—Ç–µ `API_KEY` –≤ `deploy/.env` –∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.

---

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—â–∏—Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö endpoints

#### –¢–µ—Å—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ –∫—É—Ä—Å–∞ –ë–ï–ó API –∫–ª—é—á–∞ (–¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 401)

```bash
curl -X POST https://api.murmurmne.com/courses \
  -H "Content-Type: application/json" \
  -d '{"title":"Test Course","slug":"test","category":"BUSINESS"}'
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{"message":"–ù–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π API –∫–ª—é—á","statusCode":401}
```

**‚ùå –ï—Å–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 –∏–ª–∏ —Å–æ–∑–¥–∞–µ—Ç –∫—É—Ä—Å:** API_KEY –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏–ª–∏ guard –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

#### –¢–µ—Å—Ç 2: –°–æ–∑–¥–∞–Ω–∏–µ –∫—É—Ä—Å–∞ –° API –∫–ª—é—á–æ–º (–¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å)

```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_API_KEY –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –∫–ª—é—á –∏–∑ .env
curl -X POST https://api.murmurmne.com/courses \
  -H "Content-Type: application/json" \
  -H "X-API-Key: YOUR_API_KEY" \
  -d '{"title":"Test Course","slug":"test-security","category":"BUSINESS"}'
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö—É—Ä—Å —Å–æ–∑–¥–∞–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç –∫—É—Ä—Å–∞.

**‚ùå –ï—Å–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401:** API_KEY –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç –º–µ–∂–¥—É backend –∏ admin.

---

#### –¢–µ—Å—Ç 3: –£–¥–∞–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞ –ë–ï–ó API –∫–ª—é—á–∞ (–¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 401)

```bash
curl -X DELETE https://api.murmurmne.com/courses/test-security
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `{"message":"–ù–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π API –∫–ª—é—á","statusCode":401}`

---

#### –¢–µ—Å—Ç 4: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ë–ï–ó API –∫–ª—é—á–∞ (–¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 401)

```bash
curl https://api.murmurmne.com/users
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `{"message":"–ù–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π API –∫–ª—é—á","statusCode":401}`

---

#### –¢–µ—Å—Ç 5: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –ë–ï–ó API –∫–ª—é—á–∞ (–¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 401)

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
echo "test" > test.txt

curl -X POST https://api.murmurmne.com/uploads/images \
  -F "file=@test.txt"
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `{"message":"–ù–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π API –∫–ª—é—á","statusCode":401}`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–∂–µ –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, —Å–Ω–∞—á–∞–ª–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–∞.

---

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏—á–Ω—ã—Ö endpoints (–¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –ë–ï–ó –∫–ª—é—á–∞)

#### –¢–µ—Å—Ç 6: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫—É—Ä—Å–æ–≤ (–ø—É–±–ª–∏—á–Ω—ã–π endpoint)

```bash
curl https://api.murmurmne.com/courses
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ø–∏—Å–æ–∫ –∫—É—Ä—Å–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON (200 OK)

---

#### –¢–µ—Å—Ç 7: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–∞ –ø–æ slug (–ø—É–±–ª–∏—á–Ω—ã–π endpoint)

```bash
curl https://api.murmurmne.com/courses/some-course-slug
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –î–∞–Ω–Ω—ã–µ –∫—É—Ä—Å–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON (200 OK)

---

#### –¢–µ—Å—Ç 8: –ó–∞–ø–∏—Å—å –Ω–∞ –∫—É—Ä—Å (–ø—É–±–ª–∏—á–Ω—ã–π endpoint –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

```bash
curl -X POST https://api.murmurmne.com/courses/some-course-slug/enroll \
  -H "Content-Type: application/json" \
  -d '{"userId":"test-user-id"}'
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–∏—Å–∏ (–º–æ–∂–µ—Ç –±—ã—Ç—å –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –Ω–æ –Ω–µ 401)

---

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∞–¥–º–∏–Ω–∫–∏

#### –¢–µ—Å—Ç 9: –ê–¥–º–∏–Ω–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://admin.murmurmne.com`
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
3. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí –≤–∫–ª–∞–¥–∫–∞ Network
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å/–∏–∑–º–µ–Ω–∏—Ç—å –∫—É—Ä—Å
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –≤ Network

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API –∏–¥—É—Ç —á–µ—Ä–µ–∑ `/api/proxy/*`
- –ù–µ—Ç –ø—Ä—è–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ `api.murmurmne.com` –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞
- –í –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ù–ï–¢ `X-API-Key` (–æ–Ω –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

**‚ùå –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API:** –ü—Ä–æ–∫—Å–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥.

---

#### –¢–µ—Å—Ç 10: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –∞–¥–º–∏–Ω–∫–µ

1. –í –∞–¥–º–∏–Ω–∫–µ –æ—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ DevTools ‚Üí Network

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ó–∞–ø—Ä–æ—Å –∏–¥–µ—Ç –Ω–∞ `/api/proxy/uploads/images`
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è URL –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

---

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ CORS

#### –¢–µ—Å—Ç 11: CORS —Å –Ω–µ—Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ)

```bash
curl -X OPTIONS https://api.murmurmne.com/courses \
  -H "Origin: https://evil-site.com" \
  -H "Access-Control-Request-Method: POST" \
  -v
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –æ—Ç–≤–µ—Ç–∞ –ù–ï–¢ `Access-Control-Allow-Origin: https://evil-site.com`
- –ò–ª–∏ `Access-Control-Allow-Origin` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã

**‚ùå –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `Access-Control-Allow-Origin: *` –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:** CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

---

#### –¢–µ—Å—Ç 12: CORS —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞ (–¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å)

```bash
curl -X OPTIONS https://api.murmurmne.com/courses \
  -H "Origin: https://admin.murmurmne.com" \
  -H "Access-Control-Request-Method: POST" \
  -v
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –µ—Å—Ç—å `Access-Control-Allow-Origin: https://admin.murmurmne.com`
- –ò–ª–∏ `Access-Control-Allow-Origin: *` (–µ—Å–ª–∏ –≤ dev —Ä–µ–∂–∏–º–µ)

---

### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

#### –¢–µ—Å—Ç 13: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

```bash
# –õ–æ–≥–∏ backend
docker logs $(docker ps -q -f name=backend) --tail 100 | grep -i "unauthorized\|401\|api.*key"

# –õ–æ–≥–∏ admin
docker logs $(docker ps -q -f name=admin) --tail 100 | grep -i "error\|failed"
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í–∏–¥–Ω—ã –ø–æ–ø—ã—Ç–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –±–µ–∑ –∫–ª—é—á–∞ (401 –æ—à–∏–±–∫–∏)
- –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –∞–¥–º–∏–Ω–∫–µ

---

## üõ°Ô∏è –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `check-security.sh` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
#!/bin/bash

API_KEY="${API_KEY:-}"
API_BASE="${API_BASE:-https://api.murmurmne.com}"

echo "üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"
echo "======================================"
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: API_KEY —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
if [ -z "$API_KEY" ]; then
    echo "‚ùå API_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è"
    echo "   –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: export API_KEY=your-key"
    exit 1
else
    echo "‚úÖ API_KEY —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–¥–ª–∏–Ω–∞: ${#API_KEY} —Å–∏–º–≤–æ–ª–æ–≤)"
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ endpoints —Ç—Ä–µ–±—É—é—Ç –∫–ª—é—á
echo ""
echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—â–∏—Ç—ã endpoints..."

# –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫—É—Ä—Å–∞ –±–µ–∑ –∫–ª—é—á–∞
RESPONSE=$(curl -s -o /dev/null -w "%{http_code}" -X POST "$API_BASE/courses" \
  -H "Content-Type: application/json" \
  -d '{"title":"Test"}')

if [ "$RESPONSE" = "401" ]; then
    echo "‚úÖ POST /courses –∑–∞—â–∏—â–µ–Ω (401 –±–µ–∑ –∫–ª—é—á–∞)"
else
    echo "‚ùå POST /courses –ù–ï –∑–∞—â–∏—â–µ–Ω! –í–µ—Ä–Ω—É–ª: $RESPONSE"
fi

# –¢–µ—Å—Ç —É–¥–∞–ª–µ–Ω–∏—è –±–µ–∑ –∫–ª—é—á–∞
RESPONSE=$(curl -s -o /dev/null -w "%{http_code}" -X DELETE "$API_BASE/courses/test")
if [ "$RESPONSE" = "401" ]; then
    echo "‚úÖ DELETE /courses –∑–∞—â–∏—â–µ–Ω (401 –±–µ–∑ –∫–ª—é—á–∞)"
else
    echo "‚ùå DELETE /courses –ù–ï –∑–∞—â–∏—â–µ–Ω! –í–µ—Ä–Ω—É–ª: $RESPONSE"
fi

# –¢–µ—Å—Ç –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –∫–ª—é—á–∞
RESPONSE=$(curl -s -o /dev/null -w "%{http_code}" "$API_BASE/users")
if [ "$RESPONSE" = "401" ]; then
    echo "‚úÖ GET /users –∑–∞—â–∏—â–µ–Ω (401 –±–µ–∑ –∫–ª—é—á–∞)"
else
    echo "‚ùå GET /users –ù–ï –∑–∞—â–∏—â–µ–Ω! –í–µ—Ä–Ω—É–ª: $RESPONSE"
fi

# –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –±–µ–∑ –∫–ª—é—á–∞
RESPONSE=$(curl -s -o /dev/null -w "%{http_code}" -X POST "$API_BASE/uploads/images" \
  -F "file=@/dev/null")
if [ "$RESPONSE" = "401" ]; then
    echo "‚úÖ POST /uploads/images –∑–∞—â–∏—â–µ–Ω (401 –±–µ–∑ –∫–ª—é—á–∞)"
else
    echo "‚ùå POST /uploads/images –ù–ï –∑–∞—â–∏—â–µ–Ω! –í–µ—Ä–Ω—É–ª: $RESPONSE"
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ü—É–±–ª–∏—á–Ω—ã–µ endpoints –¥–æ—Å—Ç—É–ø–Ω—ã
echo ""
echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏—á–Ω—ã—Ö endpoints..."

RESPONSE=$(curl -s -o /dev/null -w "%{http_code}" "$API_BASE/courses")
if [ "$RESPONSE" = "200" ]; then
    echo "‚úÖ GET /courses –¥–æ—Å—Ç—É–ø–µ–Ω –ø—É–±–ª–∏—á–Ω–æ (200)"
else
    echo "‚ö†Ô∏è  GET /courses –≤–µ—Ä–Ω—É–ª: $RESPONSE"
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: Endpoints —Ä–∞–±–æ—Ç–∞—é—Ç —Å –∫–ª—é—á–æ–º
echo ""
echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —Å API –∫–ª—é—á–æ–º..."

RESPONSE=$(curl -s -o /dev/null -w "%{http_code}" -X GET "$API_BASE/users" \
  -H "X-API-Key: $API_KEY")
if [ "$RESPONSE" = "200" ]; then
    echo "‚úÖ GET /users —Ä–∞–±–æ—Ç–∞–µ—Ç —Å API –∫–ª—é—á–æ–º (200)"
else
    echo "‚ùå GET /users –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–ª—é—á–æ–º! –í–µ—Ä–Ω—É–ª: $RESPONSE"
    echo "   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API_KEY –≤ .env —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–º, —á—Ç–æ –ø–µ—Ä–µ–¥–∞–µ—Ç–µ"
fi

echo ""
echo "======================================"
echo "‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ API_KEY
export API_KEY="your-api-key-from-env"

# –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x check-security.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É
./check-security.sh
```

---

## üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫

| Endpoint | –ú–µ—Ç–æ–¥ | –¢—Ä–µ–±—É–µ—Ç API Key? | –ü—É–±–ª–∏—á–Ω—ã–π? | –°—Ç–∞—Ç—É—Å |
|----------|-------|------------------|------------|--------|
| `/courses` | GET | ‚ùå | ‚úÖ | –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω |
| `/courses` | POST | ‚úÖ | ‚ùå | –î–æ–ª–∂–µ–Ω —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∫–ª—é—á |
| `/courses/:id` | GET | ‚ùå | ‚úÖ | –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω |
| `/courses/:id` | PUT | ‚úÖ | ‚ùå | –î–æ–ª–∂–µ–Ω —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∫–ª—é—á |
| `/courses/:id` | DELETE | ‚úÖ | ‚ùå | –î–æ–ª–∂–µ–Ω —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∫–ª—é—á |
| `/courses/:id/enroll` | POST | ‚ùå | ‚úÖ | –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω |
| `/users` | GET | ‚úÖ | ‚ùå | –î–æ–ª–∂–µ–Ω —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∫–ª—é—á |
| `/users/:id` | GET | ‚úÖ | ‚ùå | –î–æ–ª–∂–µ–Ω —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∫–ª—é—á |
| `/users/:id/enrollments` | GET | ‚ùå | ‚úÖ | –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω |
| `/analytics/*` | GET | ‚úÖ | ‚ùå | –î–æ–ª–∂–µ–Ω —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∫–ª—é—á |
| `/uploads/images` | POST | ‚úÖ | ‚ùå | –î–æ–ª–∂–µ–Ω —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∫–ª—é—á |

---

## ‚ö†Ô∏è –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: Endpoints –Ω–µ –∑–∞—â–∏—â–µ–Ω—ã (–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 200 –≤–º–µ—Å—Ç–æ 401)

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `API_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `deploy/.env`
2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ backend: `docker compose -f docker-compose.prod.yml build --no-cache backend`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: `docker compose -f docker-compose.prod.yml up -d backend`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker logs $(docker ps -q -f name=backend)`

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–¥–º–∏–Ω–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–æ—à–∏–±–∫–∏ 401)

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `API_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –∞–¥–º–∏–Ω–∫–µ (–≤ `deploy/.env`)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á —Å–æ–≤–ø–∞–¥–∞–µ—Ç –≤ backend –∏ admin
3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ admin: `docker compose -f docker-compose.prod.yml build --no-cache admin`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ–∫—Å–∏-—Ä–æ—É—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç: –æ—Ç–∫—Ä–æ–π—Ç–µ DevTools –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `CORS_ORIGIN` –≤ `deploy/.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω—ã —É–∫–∞–∑–∞–Ω—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é: `https://admin.murmurmne.com,https://mini.murmurmne.com`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ —É–±–µ–¥–∏—Ç–µ—Å—å:

- ‚úÖ –í—Å–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ endpoints —Ç—Ä–µ–±—É—é—Ç API –∫–ª—é—á
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–µ endpoints –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ–∑ –∫–ª—é—á–∞
- ‚úÖ –ê–¥–º–∏–Ω–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
- ‚úÖ API –∫–ª—é—á –Ω–µ –≤–∏–¥–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ DevTools)
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (401)

**–ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã ‚Äî –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞—â–∏—â–µ–Ω–æ! üõ°Ô∏è**

